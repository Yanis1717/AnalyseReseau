{% extends 'base.html.twig' %}

{% block title %}{{ content.title }}{% endblock %}

{% block body %}
<div class="container py-5">
    {# Bouton de changement de langue dynamique #}
    <div class="d-flex justify-content-end mb-4">
        <a href="{{ path('app_procedure', {'_locale': content.target_locale}) }}" class="btn btn-dark">
            üåê {{ content.btn_switch }}
        </a>
    </div>

    <div class="row">
        <div class="col-lg-10 mx-auto">
            
            {# En-t√™te #}
            <div class="text-center mb-5">
                <h1 class="display-5 fw-bold text-primary">
                    <p class="small">
                        {{ current_locale == 'fr' 
                            ? 'Guide : Analyse du Trafic R√©seau' 
                            : 'Guide : Network Traffic Analysis' 
                        }}
                    </p>
                </h1>
                <p class="lead text-muted">
                    {{ current_locale == 'fr' 
                        ? 'Instructions sur l\'utilisation de nos outils Python pour traiter les captures r√©seau.' 
                        : 'Instructions on how to use our Python toolset to process raw network captures.' 
                    }}
                </p>
                <hr class="w-25 mx-auto">
            </div>

            {# Phase 1 (Utilise tes variables du Controller) #}
            <section class="mb-5">
                <h3 class="h4 text-dark mb-3">
                    <span class="badge bg-primary me-2">
                        1
                    </span> 
                        <p class="small">
                            {{ current_locale == 'fr' 
                                ? 'Phase 1 : Structuration des donn√©es' 
                                : 'Phase 1: Data Structuring' 
                            }}
                        </p>
                </h3>
                <div class="p-3 border rounded bg-white">
                    <p class="small">
                        {{ current_locale == 'fr' 
                            ? 'Mettez DumpFile.txt et txt_to_csv.py dans le m√™me dossier' 
                            : 'Place both DumpFile.txt and txt_to_csv.py in the same folder.' 
                        }}
                    </p>
                    <p class="small">
                        {{ current_locale == 'fr' 
                            ? 'Ex√©cutez le script pyhton txt_to_csv.py.' 
                            : 'Run the script using python txt_to_csv.py.' 
                        }}
                    </p>
                    <p class="small">
                        {{ current_locale == 'fr' 
                            ? 'Le script d√©coupe le texte et g√©n√®re Network_Analysis.csv.' 
                            : 'The script parses the text and generates Network_Analysis.csv.' 
                        }}
                    </p>
                </div>

                <img src="{{ asset('images/Image1.png') }}" alt="1">
            </section>

            {# Phase 2 (Excel) #}
            <section class="mb-5">
                <h3 class="h4 text-dark mb-3">
                    <span class="badge bg-primary me-2">
                        2
                    </span> 
                        {{ current_locale == 'fr'
                            ? 'Phase 2 : Analyse Excel' 
                            : 'Phase 2: Excel Analysis' 
                        }}
                </h3>
                <div class="p-3 border rounded bg-white">
                    <p class="small">
                        {{ current_locale == 'fr' 
                            ? 'Une fois le fichier CSV obtenu, vous pouvez effectuer 
                            une analyse approfondie des donn√©es √† l\'aide de Microsoft Excel 
                            afin de visualiser les sch√©mas d\'attaque.' 
                            : 'Once you have the CSV file, you can perform a deep dive into 
                            the data using Microsoft Excel to visualize the attack patterns.' 
                        }}
                    </p>
                    <p class="small">
                        {{ current_locale == 'fr' 
                            ? 'Ouvrez Excel et importez le fichier Network_Analysis.csv (Donn√©es
                             > √Ä partir d\'un fichier texte/CSV). Assurez-vous que le 
                             s√©parateur est bien r√©gl√© sur Point-virgule ;.' 
                            : 'Open Excel and import Network_Analysis.csv (Data > From Text/CSV). 
                            Ensure the delimiter is set to Semicolon ;.' 
                        }}
                    </p>

                </div>
                    <img src="{{ asset('images/Image2.png') }}" alt="2">
                    <img src="{{ asset('images/Image3.png') }}" alt="3">
                <div class="p-3 border rounded bg-white">
                    <p class="small">
                        {{ current_locale == 'fr' 
                            ? 'Cliquez sur n\'importe quelle cellule de vos donn√©es et appuyez 
                            sur Ctrl+A pour s√©lectionner l\'ensemble du tableau.' 
                            : 'Click any cell in your data and press Ctrl+A to select the entire table.' 
                        }}
                    </p>
                    <p class="small">
                        {{ current_locale == 'fr' 
                            ? 'Allez dans l\'onglet Insertion et cliquez sur Tableau crois√© dynamique. 
                            Cliquez sur OK pour le cr√©er dans une nouvelle feuille de calcul.' 
                            : 'Go to the Insert tab and click on PivotTable. Click OK to create 
                            it in a new worksheet. ' 
                        }}
                    </p>
                </div>
                    <img src="{{ asset('images/Image4.png') }}" alt="4">
                    <img src="{{ asset('images/Image5.png') }}" alt="5">
                <div class="p-3 border rounded bg-white">
                    <p class="small">
                        {{ current_locale == 'fr' 
                            ? 'Faites glisser le champ Source dans la zone Lignes.' 
                            : 'Drag Source into the Rows area.' 
                        }}
                    </p>
                    <p class="small">
                        {{ current_locale == 'fr' 
                            ? 'Faites glisser √† nouveau le champ Source dans la zone Valeurs 
                            (cela devrait afficher "Nombre de Source").' 
                            : 'Drag Source again into the Values area (it should show "Count of Source").' 
                        }}
                    </p>
                    <p class="small">
                        {{ current_locale == 'fr' 
                            ? 'Faites glisser le champ Destination dans la zone Filtres.' 
                            : 'Drag Destination into the Filters area' 
                        }}
                    </p>
                </div>
                    <img src="{{ asset('images/Image6.png') }}" alt="6">
                <div class="p-3 border rounded bg-white">
                    <p class="small">
                        {{ current_locale == 'fr' 
                            ? 'FR1' 
                            : 'EN1' 
                        }}
                    </p>
                </div>
                    <img src="{{ asset('images/Image6.png') }}" alt="6">
                <div class="p-3 border rounded bg-white">
                    <p class="small">
                        {{ current_locale == 'fr' 
                            ? 'FR2' 
                            : 'EN2' 
                        }}
                    </p>
                    <p class="small">
                        {{ current_locale == 'fr' 
                            ? 'FR3' 
                            : 'EN3' 
                        }}
                    </p>
                </div>


            </section>

            {# Phase 3 (Automated) #}
            <section class="mb-5">
                <h3 class="h4 text-dark mb-3">
                    <span class="badge bg-primary me-2">3</span> 
                    {{ current_locale == 'fr' ? 'Phase 3 : Rapport Automatis√©' : 'Phase 3: Automated Reporting' }}
                </h3>
                <div class="card border-start border-primary border-4 shadow-sm p-4">
                    <p><code>python csv_to_md.py</code></p>
                    <p class="small text-muted mb-0">
                        {{ current_locale == 'fr' 
                            ? 'Le script g√©n√®re un rapport Markdown professionnel interpr√©tant les flags TCP.' 
                            : 'The script generates a professional Markdown report interpreting TCP flags.' 
                        }}
                    </p>
                </div>
            </section>

            <div class="text-center mt-5">
                <a href="{{ path('app_home') }}" class="btn btn-outline-secondary">
                    {{ current_locale == 'fr' ? 'Retour' : 'Back' }}
                </a>
            </div>
        </div>
    </div>
</div>
{% endblock %}